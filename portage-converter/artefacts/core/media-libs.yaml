artefacts:

- tree: multi-arch/packages/atoms
  replacements:
    buildtime_deps:
      ignore:
        - name: python
          category: dev-lang-3.7
  uses:
    disabled:
      - d3d9
      - debug
      - gles1
      - osmesa
      - lm-sensors
      - unwind
      - xvmc
      - valgrind
      - vulkan-overlay
      - video_cards_freedreno
      - video_cards_iris
      - video_cards_lima
      - video_cards_panfrost
      - video_cards_v3d
      - video_cards_vc4
      - video_cards_vivante
      - zink
  packages:
    - media-libs/mesa

- tree: multi-arch/packages/atoms
  uses:
    disabled:
      - qt5
  packages:
    - media-libs/libffado

- tree: multi-arch/packages/atoms
  replacements:
    buildtime_deps:
      # We use this deps directly from build-seed layer.
      ignore:
        - name: cmake
          category: dev-util
  uses:
    enabled:
      - amd64
      - amd64-linux
  packages:
    - media-libs/libjpeg-turbo

- tree: multi-arch/packages/atoms
  replacements:
    buildtime_deps:
      # We use this deps directly from build-seed layer.
      ignore:
        - name: cmake
          category: dev-util
        - name: ninja
          category: dev-util
        - name: python
          category: dev-lang-3.7
  packages:
    - media-libs/vulkan-loader

- tree: multi-arch/packages/atoms
  override_version: "2.10.4+1"
  packages:
    - media-libs/freetype

- tree: multi-arch/packages/atoms
  ignore_build_deps: true
  # To avoid cycle error on solver for packages
  # available already from layers/build-seed i
  # ignore buildtime deps.
  packages:
    - media-libs/alsa-topology-conf
    - media-libs/alsa-ucm-conf
    - media-libs/fontconfig
    - media-libs/libpng
    - media-libs/gd
    - media-libs/tiff
    - media-libs/libglvnd
    - media-libs/harfbuzz

