skipped_resolutions:
  packages:
    - name: elt-patches
      category: app-portage

    - name: eselect-opengl
      category: app-eselect

    - name: binutils-apple
      category: sys-devel

    - name: gcc-apple
      category: sys-devel

    - name: openrc
      category: sys-apps

    - name: udev
      category: sys-fs

    - name: eudev
      category: sys-fs

    # Until conflicts detection is fixed.
    - name: radiusclient-ng
      category: net-dialup

  categories:
    - virtual
#    - cat2


#include_files:
#  - artefacts/file1.yml

build_template_file: ../templates/build-pkg-uses.yaml.tmpl

artefacts:
- tree: multi-arch/packages/atoms
  ignore_build_deps: true
  # To avoid cycle error on solver for packages
  # available already from layers/build-seed i
  # ignore buildtime deps.
  uses:
    enabled:
      - acl
      - cryptsetup
      - gcrypt
      - hwdb
      - kmod
      - lz4
      - lzma
      - pam
      - pcre
      - policykit
      - resolvconf
      - seccomp
      - sysv-utils
      - zstd
      - cgroup-hybrid
  packages:
    - sys-apps/systemd

- tree: multi-arch/packages/atoms
  ignore_build_deps: true
  # To avoid cycle error on solver for packages
  # available already from layers/build-seed i
  # ignore buildtime deps.
  uses:
    enabled:
      - acl
      - cxx
      - ncurses
      - nls
      - openmp
  packages:
    - sys-devel/gettext

- tree: multi-arch/packages/atoms
  ignore_build_deps: true
  # To avoid cycle error on solver for packages
  # available already from layers/build-seed i
  # ignore buildtime deps.
  uses:
    enabled:
      - acl
      - cryptsetup
      - gcrypt
      - hwdb
      - kmod
      - lz4
      - lzma
      - pam
      - pcre
      - policykit
      - resolvconf
      - seccomp
      - sysv-utils
      - zstd
      - cgroup-hybrid
  packages:
    - sys-apps/systemd

- tree: multi-arch/packages/atoms
  ignore_build_deps: true
  # To avoid cycle error on solver for packages
  # available already from layers/build-seed i
  # ignore buildtime deps.
  uses:
    enabled:
      - bzip2
      - nls
      - readline
      - smartcard
      - ssl
  packages:
    - app-crypt/gnupg

- tree: multi-arch/packages/atoms
  ignore_build_deps: true
  # To avoid cycle error on solver for packages
  # available already from layers/build-seed i
  # ignore buildtime deps.
  packages:
    - app-i18n/fcitx
    - app-arch/xz-utils
    - app-arch/libarchive
    - sys-devel/gcc:9.3.0
    - dev-db/mysql-connector-c
    - dev-db/sqlite
    - dev-lang/python:3.7
    - dev-lang/python-exec
    - dev-lang/perl
    - dev-lang/vala:0.48
    - dev-lang/rust
    - dev-lang/tcl
    - dev-lang/nasm
    - dev-libs/boost
    - dev-libs/boehm-gc
    - dev-libs/elfutils
    - dev-libs/expat
    - dev-libs/fribidi
    - dev-libs/glib
    - dev-libs/gmp
    - dev-libs/gobject-introspection
    - dev-libs/gobject-introspection-common
    - dev-libs/libxml2
    - dev-perl/XML-SAX-Base
    - dev-python/cython
    - dev-util/cmake
    - dev-util/meson
    - dev-util/ninja
    - dev-util/pkgconf
    - dev-util/gdbus-codegen
    - dev-util/ragel
    - dev-util/gtk-doc-am
    - dev-util/gtk-update-icon-cache
    - media-libs/alsa-topology-conf
    - media-libs/alsa-ucm-conf
    - media-libs/freetype
    - media-libs/fontconfig
    - media-libs/libpng
    - media-libs/gd
    - media-libs/tiff
    - media-libs/libglvnd
    - media-libs/mesa
    - net-mail/courier-imap
    - sys-apps/attr
    - sys-apps/findutils
    - sys-apps/util-linux
    - sys-apps/coreutils
    - sys-apps/dbus
    - sys-devel/autoconf
    - sys-devel/autogen
    - sys-devel/automake
    - sys-devel/libtool
    - sys-devel/m4
    - sys-devel/make
    - sys-devel/patch
    - sys-devel/flex
    - sys-devel/llvm
    - sys-fs/lvm2
    - sys-fs/udev-init-scripts
    - sys-libs/ncurses
    - sys-libs/glibc
    - sys-libs/libunwind
    - sys-libs/llvm-libunwind
    - sys-libs/libcap
    - sys-kernel/linux-headers
    - sys-process/procps
    - sys-process/audit
    - x11-libs/libva
    - x11-libs/libxcb
    - x11-libs/libX11
    - x11-libs/libXcomposite
    - x11-libs/libXi
    - x11-libs/libXt
    - x11-libs/libXext
    - x11-libs/libXrender
    - x11-libs/libXfixes
    - x11-libs/gdk-pixbuf


- tree: multi-arch/packages/atoms
  packages:
    - app-admin/calamares
    - app-emulation/lxd
    - app-emulation/lxc
    - sys-kernel/dracut
    - net-libs/nodejs

# Define the list of the files generated by Funtoo reposcan tool.
reposcan_sources:
#  - source1.json
  - /tmp/kit_cache/gentoo-master
#  - /tmp/kit_cache/geaaru_overlay-master

# Disable use of category with slot as requires. Default is without slot.
reposcan_requires_slot: true

reposcan_contraints:
  packages:
    - dev-lang/python:3.7
    - dev-lang/ruby:2.6
    - sys-devel/gcc:9.3.0

reposcan_disabled_use_flags:
  - emacs
  - doc
  - elibc_Darwin
  - elibc_FreeBSD
  - elibc_OpenBSD
  - elibc_NetBSD
  - elibc_SunOS
  - elibc_musl
  - elibc_uclibc
  - elogind
  - libressl
  - gtk-doc
  - gles2-only
  - gnutls
  - python_single_target_python3_6
  - python_single_target_python3_8
  - python_single_target_python3_9
  # I disable pypy support atm
  - python_single_target_pypy3
  - python_targets_python2_7
  - python_targets_python3_6
  - python_targets_python3_8
  - python_targets_python3_9
  - python_targets_pypy3
  - ruby_targets_ruby25
  - ruby_targets_ruby24
  - ppc-aix
  - x86-winnt
  - kernel-builtin
  - kernel_Winnt
  - man
  - minimal
  - modules
  - openrc
#  - qt5
  - vim-syntax
  - test
  - savedconfig
  # ATM i disable selinux
  - selinux

  # Disable in GCC
  - objc-gc
  - systemtap
  # Disable in glib
  - fam

  - valadoc
  - cvs

reposcan_disabled_keywords:
  - ~amd64
